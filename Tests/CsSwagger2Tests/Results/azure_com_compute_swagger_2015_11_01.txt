//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace MyNS
{
	using System;
	using System.Linq;
	using System.Collections.Generic;
	using System.Threading.Tasks;
	using System.Text.Json;
	using System.Text.Json.Serialization;
	using Fonlow.Net.Http;
	
	
	/// <summary>
	/// Deployment dependency information.
	/// </summary>
	[System.Runtime.Serialization.DataContract(Namespace="http://fonlow.com/TestOpenApi/2024/01")]
	public class BasicDependency
	{
		
		/// <summary>
		/// Gets or sets the ID of the dependency.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="id")]
		public string Id { get; set; }
		
		/// <summary>
		/// Gets or sets the dependency resource name.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="resourceName")]
		public string ResourceName { get; set; }
		
		/// <summary>
		/// Gets or sets the dependency resource type.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="resourceType")]
		public string ResourceType { get; set; }
	}
	
	/// <summary>
	/// Deployment dependency information.
	/// </summary>
	[System.Runtime.Serialization.DataContract(Namespace="http://fonlow.com/TestOpenApi/2024/01")]
	public class Dependency
	{
		
		/// <summary>
		/// Gets the list of dependencies.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="dependsOn")]
		public BasicDependency[] DependsOn { get; set; }
		
		/// <summary>
		/// Gets or sets the ID of the dependency.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="id")]
		public string Id { get; set; }
		
		/// <summary>
		/// Gets or sets the dependency resource name.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="resourceName")]
		public string ResourceName { get; set; }
		
		/// <summary>
		/// Gets or sets the dependency resource type.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="resourceType")]
		public string ResourceType { get; set; }
	}
	
	/// <summary>
	/// Deployment operation parameters.
	/// </summary>
	[System.Runtime.Serialization.DataContract(Namespace="http://fonlow.com/TestOpenApi/2024/01")]
	public class Deployment
	{
		
		/// <summary>
		/// Deployment properties.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="properties")]
		public DeploymentProperties Properties { get; set; }
	}
	
	/// <summary>
	/// Deployment information.
	/// </summary>
	[System.Runtime.Serialization.DataContract(Namespace="http://fonlow.com/TestOpenApi/2024/01")]
	public class DeploymentExtended
	{
		
		/// <summary>
		/// Gets or sets the ID of the deployment.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="id")]
		public string Id { get; set; }
		
		/// <summary>
		/// Gets or sets the name of the deployment.
		/// Required
		/// </summary>
		[System.ComponentModel.DataAnnotations.Required()]
		[System.Runtime.Serialization.DataMember(Name="name")]
		public string Name { get; set; }
		
		/// <summary>
		/// Deployment properties with additional details.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="properties")]
		public DeploymentPropertiesExtended Properties { get; set; }
	}
	
	[System.Runtime.Serialization.DataContract(Namespace="http://fonlow.com/TestOpenApi/2024/01")]
	public class DeploymentParameters
	{
		
		[System.Runtime.Serialization.DataMember(Name="adminPassword")]
		public DeploymentParametersAdminPassword AdminPassword { get; set; }
		
		[System.Runtime.Serialization.DataMember(Name="adminUsername")]
		public DeploymentParametersAdminUsername AdminUsername { get; set; }
		
		[System.Runtime.Serialization.DataMember(Name="dnsLabelPrefix")]
		public DeploymentParametersDnsLabelPrefix DnsLabelPrefix { get; set; }
		
		/// <summary>
		/// Deployment operation parameters.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="osVersion")]
		public DeploymentParametersOsVersion OsVersion { get; set; }
	}
	
	public class DeploymentParametersAdminPassword
	{
		
		/// <summary>
		/// Password for the Virtual Machine.
		/// Required
		/// </summary>
		[System.ComponentModel.DataAnnotations.Required()]
		[System.Runtime.Serialization.DataMember(Name="value")]
		public string Value { get; set; }
	}
	
	public class DeploymentParametersAdminUsername
	{
		
		/// <summary>
		/// Username for the Virtual Machine.
		/// Required
		/// </summary>
		[System.ComponentModel.DataAnnotations.Required()]
		[System.Runtime.Serialization.DataMember(Name="value")]
		public string Value { get; set; }
	}
	
	public class DeploymentParametersDnsLabelPrefix
	{
		
		/// <summary>
		/// Unique DNS Name for the Public IP used to access the Virtual Machine.
		/// Required
		/// </summary>
		[System.ComponentModel.DataAnnotations.Required()]
		[System.Runtime.Serialization.DataMember(Name="value")]
		public string Value { get; set; }
	}
	
	public class DeploymentParametersOsVersion
	{
		
		/// <summary>
		/// The OS version for the VM. This will pick a fully patched image of this given OS version.
		/// Required
		/// </summary>
		[System.ComponentModel.DefaultValue(DeploymentParametersOsVersionValue._14_04_2MinusLTS)]
		[System.ComponentModel.DataAnnotations.Required()]
		[System.Runtime.Serialization.DataMember(Name="value")]
		public DeploymentParametersOsVersionValue Value { get; set; } = DeploymentParametersOsVersionValue._14_04_2MinusLTS;
	}
	
	[System.Runtime.Serialization.DataContract(Namespace="http://fonlow.com/TestOpenApi/2024/01")]
	public enum DeploymentParametersOsVersionValue
	{
		
		[System.Runtime.Serialization.EnumMemberAttribute(Value="12.04.5-LTS")]
		_12_04_5MinusLTS = 0,
		
		[System.Runtime.Serialization.EnumMemberAttribute(Value="14.04.2-LTS")]
		_14_04_2MinusLTS = 1,
		
		[System.Runtime.Serialization.EnumMemberAttribute(Value="15.10")]
		_15_10 = 2,
	}
	
	/// <summary>
	/// Deployment properties.
	/// </summary>
	[System.Runtime.Serialization.DataContract(Namespace="http://fonlow.com/TestOpenApi/2024/01")]
	public class DeploymentProperties
	{
		
		/// <summary>
		/// Gets or sets the deployment mode.
		/// Required
		/// </summary>
		[System.ComponentModel.DataAnnotations.Required()]
		[System.Runtime.Serialization.DataMember(Name="mode")]
		public DeploymentPropertiesMode Mode { get; set; }
		
		[System.Runtime.Serialization.DataMember(Name="parameters")]
		public DeploymentParameters Parameters { get; set; }
		
		/// <summary>
		/// Entity representing the reference to the template.
		/// Required
		/// </summary>
		[System.ComponentModel.DataAnnotations.Required()]
		[System.Runtime.Serialization.DataMember(Name="templateLink")]
		public TemplateLink TemplateLink { get; set; }
	}
	
	[System.Runtime.Serialization.DataContract(Namespace="http://fonlow.com/TestOpenApi/2024/01")]
	public enum DeploymentPropertiesMode
	{
		
		[System.Runtime.Serialization.EnumMemberAttribute()]
		Incremental = 0,
	}
	
	/// <summary>
	/// Deployment properties with additional details.
	/// </summary>
	[System.Runtime.Serialization.DataContract(Namespace="http://fonlow.com/TestOpenApi/2024/01")]
	public class DeploymentPropertiesExtended
	{
		
		/// <summary>
		/// Gets or sets the correlation ID of the deployment.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="correlationId")]
		public string CorrelationId { get; set; }
		
		/// <summary>
		/// Gets the list of deployment dependencies.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="dependencies")]
		public Dependency[] Dependencies { get; set; }
		
		/// <summary>
		/// Gets or sets the deployment mode.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="mode")]
		public System.Nullable<DeploymentPropertiesExtendedMode> Mode { get; set; }
		
		/// <summary>
		/// Gets or sets key/value pairs that represent deployment output.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="outputs")]
		public string Outputs { get; set; }
		
		/// <summary>
		/// Deployment parameters. Use only one of Parameters or ParametersLink.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="parameters")]
		public string Parameters { get; set; }
		
		/// <summary>
		/// Entity representing the reference to the deployment parameters.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="parametersLink")]
		public ParametersLink ParametersLink { get; set; }
		
		/// <summary>
		/// Gets the list of resource providers needed for the deployment.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="providers")]
		public Provider[] Providers { get; set; }
		
		/// <summary>
		/// Gets or sets the state of the provisioning.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="provisioningState")]
		public string ProvisioningState { get; set; }
		
		/// <summary>
		/// Gets or sets the template content. Use only one of Template or TemplateLink.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="template")]
		public string Template { get; set; }
		
		/// <summary>
		/// Entity representing the reference to the template.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="templateLink")]
		public TemplateLink TemplateLink { get; set; }
		
		/// <summary>
		/// Gets or sets the timestamp of the template deployment.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="timestamp")]
		public System.Nullable<System.DateTimeOffset> Timestamp { get; set; }
	}
	
	[System.Runtime.Serialization.DataContract(Namespace="http://fonlow.com/TestOpenApi/2024/01")]
	public enum DeploymentPropertiesExtendedMode
	{
		
		[System.Runtime.Serialization.EnumMemberAttribute()]
		Incremental = 0,
		
		[System.Runtime.Serialization.EnumMemberAttribute()]
		Complete = 1,
	}
	
	/// <summary>
	/// Resource provider information.
	/// </summary>
	[System.Runtime.Serialization.DataContract(Namespace="http://fonlow.com/TestOpenApi/2024/01")]
	public class Provider
	{
		
		/// <summary>
		/// Gets or sets the provider id.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="id")]
		public string Id { get; set; }
		
		/// <summary>
		/// Gets or sets the namespace of the provider.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="namespace")]
		public string Namespace { get; set; }
		
		/// <summary>
		/// Gets or sets the registration state of the provider.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="registrationState")]
		public string RegistrationState { get; set; }
		
		/// <summary>
		/// Gets or sets the collection of provider resource types.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="resourceTypes")]
		public ProviderResourceType[] ResourceTypes { get; set; }
	}
	
	/// <summary>
	/// Resource type managed by the resource provider.
	/// </summary>
	[System.Runtime.Serialization.DataContract(Namespace="http://fonlow.com/TestOpenApi/2024/01")]
	public class ProviderResourceType
	{
		
		/// <summary>
		/// Gets or sets the api version.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="apiVersions")]
		public string[] ApiVersions { get; set; }
		
		/// <summary>
		/// Gets or sets the collection of locations where this resource type can be created in.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="locations")]
		public string[] Locations { get; set; }
		
		/// <summary>
		/// Gets or sets the properties.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="properties")]
		public System.Collections.Generic.Dictionary<string, string> Properties { get; set; }
		
		/// <summary>
		/// Gets or sets the resource type.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="resourceType")]
		public string ResourceType { get; set; }
	}
	
	/// <summary>
	/// Entity representing the reference to the deployment parameters.
	/// </summary>
	[System.Runtime.Serialization.DataContract(Namespace="http://fonlow.com/TestOpenApi/2024/01")]
	public class ParametersLink
	{
		
		/// <summary>
		/// If included it must match the ContentVersion in the template.
		/// </summary>
		[System.Runtime.Serialization.DataMember(Name="contentVersion")]
		public string ContentVersion { get; set; }
		
		/// <summary>
		/// URI referencing the template.
		/// Required
		/// </summary>
		[System.ComponentModel.DataAnnotations.Required()]
		[System.Runtime.Serialization.DataMember(Name="uri")]
		public string Uri { get; set; }
	}
	
	/// <summary>
	/// Entity representing the reference to the template.
	/// </summary>
	[System.Runtime.Serialization.DataContract(Namespace="http://fonlow.com/TestOpenApi/2024/01")]
	public class TemplateLink
	{
		
		/// <summary>
		/// URI referencing the template.
		/// Required
		/// </summary>
		[System.ComponentModel.DataAnnotations.Required()]
		[System.Runtime.Serialization.DataMember(Name="uri")]
		public TemplateLinkUri Uri { get; set; }
	}
	
	[System.Runtime.Serialization.DataContract(Namespace="http://fonlow.com/TestOpenApi/2024/01")]
	public enum TemplateLinkUri
	{
		
		[System.Runtime.Serialization.EnumMemberAttribute(Value="https://raw.githubusercontent.com/stankovski/azure-rest-api-specs/master/arm-compute/quickstart-templates/vm-simple-linux.json")]
		https__raw_githubusercontent_com_stankovski_azureMinusrestMinusapiMinusspecs_master_armMinuscompute_quickstartMinustemplates_vmMinussimpleMinuslinux_json = 0,
	}
	
	public partial class Misc
	{
		
		private System.Net.Http.HttpClient httpClient;
		
		private JsonSerializerOptions jsonSerializerSettings;
		
		public Misc(System.Net.Http.HttpClient httpClient, JsonSerializerOptions jsonSerializerSettings=null)
		{
			if (httpClient == null)
				throw new ArgumentNullException("Null HttpClient.", "httpClient");

			if (httpClient.BaseAddress == null)
				throw new ArgumentNullException("HttpClient has no BaseAddress", "httpClient");

			this.httpClient = httpClient;
			this.jsonSerializerSettings = jsonSerializerSettings;
		}
		
		/// <summary>
		/// Create a named template deployment using a template.
		/// VirtualMachines_QuickCreate subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deployments/{deploymentName}
		/// </summary>
		/// <param name="resourceGroupName">The name of the resource group. The name is case insensitive.</param>
		/// <param name="deploymentName">The name of the deployment.</param>
		/// <param name="api_version">Client Api Version.</param>
		/// <param name="subscriptionId">Gets subscription credentials which uniquely identify Microsoft Azure subscription. The subscription ID forms part of the URI for every service call.</param>
		/// <param name="requestBody">Additional parameters supplied to the operation.</param>
		public async Task<DeploymentExtended> VirtualMachines_QuickCreateAsync(string resourceGroupName, string deploymentName, string api_version, string subscriptionId, Deployment requestBody)
		{
			var requestUri = "subscriptions/"+ (subscriptionId==null? "" : System.Uri.EscapeDataString(subscriptionId))+"/resourcegroups/"+ (resourceGroupName==null? "" : System.Uri.EscapeDataString(resourceGroupName))+"/providers/Microsoft.Resources/deployments/"+ (deploymentName==null? "" : System.Uri.EscapeDataString(deploymentName))+"&api-version=" + (api_version==null? "" : System.Uri.EscapeDataString(api_version));
			using (var httpRequestMessage = new System.Net.Http.HttpRequestMessage(System.Net.Http.HttpMethod.Put, requestUri))
			{
			var contentJson = JsonSerializer.Serialize(requestBody, jsonSerializerSettings);
			var content = new System.Net.Http.StringContent(contentJson, System.Text.Encoding.UTF8, "application/json");
			httpRequestMessage.Content = content;
			var responseMessage = await httpClient.SendAsync(httpRequestMessage);
			try
			{
				responseMessage.EnsureSuccessStatusCodeEx();
				var contentString = await responseMessage.Content.ReadAsStringAsync();
				return JsonSerializer.Deserialize<DeploymentExtended>(contentString, jsonSerializerSettings);
			}
			finally
			{
				responseMessage.Dispose();
			}
			}
		}
	}
}

namespace Fonlow.Net.Http
{
	using System.Net.Http;

	public class WebApiRequestException : HttpRequestException
	{
		public new System.Net.HttpStatusCode StatusCode { get; private set; }

		public string Response { get; private set; }

		public System.Net.Http.Headers.HttpResponseHeaders Headers { get; private set; }

		public System.Net.Http.Headers.MediaTypeHeaderValue ContentType { get; private set; }

		public WebApiRequestException(string message, System.Net.HttpStatusCode statusCode, string response, System.Net.Http.Headers.HttpResponseHeaders headers, System.Net.Http.Headers.MediaTypeHeaderValue contentType) : base(message)
		{
			StatusCode = statusCode;
			Response = response;
			Headers = headers;
			ContentType = contentType;
		}
	}

	public static class ResponseMessageExtensions
	{
		public static void EnsureSuccessStatusCodeEx(this HttpResponseMessage responseMessage)
		{
			if (!responseMessage.IsSuccessStatusCode)
			{
				var responseText = responseMessage.Content.ReadAsStringAsync().Result;
				var contentType = responseMessage.Content.Headers.ContentType;
				throw new WebApiRequestException(responseMessage.ReasonPhrase, responseMessage.StatusCode, responseText, responseMessage.Headers, contentType);
			}
		}
	}
}
